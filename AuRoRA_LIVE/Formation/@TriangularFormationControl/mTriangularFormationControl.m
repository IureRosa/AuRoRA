% Calculate kinematic control velocity
function mTriangularFormationControl(obj,T_INTEG)

if obj.pSeq == 1  
    Jinv = [ 1, 0,                                                                                                                                                                                                                         -(sin(obj.pPos.Q(3))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))/3,                                                                                                                                                                                                                                                                                       (cos(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                                                                                                                                                                                                                                                 (cos(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                                                                                                                                                                                       -(obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             0, 1,                                                                                                                                                                                                                          (cos(obj.pPos.Q(3))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))/3,                                                                                                                                                                                                                                                                                       (sin(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                                                                                                                                                                                                                                                 (sin(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                                                                                                                                                                                       -(obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             zeros(1,6);
             1, 0,                                                     (2*obj.pPos.Q(4)^2*sin(obj.pPos.Q(3)) - obj.pPos.Q(5)^2*sin(obj.pPos.Q(3)) - 3*obj.pPos.Q(4)*cos(obj.pPos.Q(3))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2) + obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(6))*sin(obj.pPos.Q(3)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)), (cos(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - cos(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(3)) + (obj.pPos.Q(4)*obj.pPos.Q(5)^2*sin(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(3))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),                                                                                     (cos(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - (obj.pPos.Q(4)^2*obj.pPos.Q(5)*sin(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(3))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),                  (obj.pPos.Q(4)*obj.pPos.Q(5)^2*sin(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(3))*sin(obj.pPos.Q(6))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)) - (obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             0, 1,                                                    -(2*obj.pPos.Q(4)^2*cos(obj.pPos.Q(3)) - obj.pPos.Q(5)^2*cos(obj.pPos.Q(3)) + 3*obj.pPos.Q(4)*sin(obj.pPos.Q(3))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2) + obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3))*cos(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)), sin(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(3)) + (sin(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) + (obj.pPos.Q(4)*obj.pPos.Q(5)^2*cos(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(3))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),                                                                                     (sin(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - (obj.pPos.Q(4)^2*obj.pPos.Q(5)*cos(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(3))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),                  (obj.pPos.Q(4)*obj.pPos.Q(5)^2*cos(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(3))*sin(obj.pPos.Q(6))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)) - (obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             zeros(1,6);
             1, 0, -(2*obj.pPos.Q(4)^2*sin(obj.pPos.Q(3)) - obj.pPos.Q(5)^2*sin(obj.pPos.Q(3)) - 3*obj.pPos.Q(5)^2*sin(obj.pPos.Q(3) + 2*obj.pPos.Q(6)) + 2*obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3) - obj.pPos.Q(6)) - 4*obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3) + obj.pPos.Q(6)) + 6*obj.pPos.Q(5)*cos(obj.pPos.Q(3) + obj.pPos.Q(6))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2))/(6*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                         (cos(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) + (obj.pPos.Q(5)^3*sin(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(6) - obj.pPos.Q(3))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)), (cos(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - cos(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(6) - obj.pPos.Q(3)) - (obj.pPos.Q(4)*obj.pPos.Q(5)^2*sin(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(6) - obj.pPos.Q(3))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)), obj.pPos.Q(5)*sin(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(6) - obj.pPos.Q(3))*((obj.pPos.Q(5)^2*(obj.pPos.Q(4)*sin(2*obj.pPos.Q(6)) + 2*obj.pPos.Q(5)*sin(obj.pPos.Q(6))))/(2*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)) - 1) - (obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             0, 1, -(obj.pPos.Q(5)^2*cos(obj.pPos.Q(3)) - 2*obj.pPos.Q(4)^2*cos(obj.pPos.Q(3)) + 3*obj.pPos.Q(5)^2*cos(obj.pPos.Q(3) + 2*obj.pPos.Q(6)) - 2*obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3) - obj.pPos.Q(6)) + 4*obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3) + obj.pPos.Q(6)) + 6*obj.pPos.Q(5)*sin(obj.pPos.Q(3) + obj.pPos.Q(6))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2))/(6*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                         (sin(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) + (obj.pPos.Q(5)^3*cos(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(6) - obj.pPos.Q(3))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)), sin(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(6) - obj.pPos.Q(3)) + (sin(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - (obj.pPos.Q(4)*obj.pPos.Q(5)^2*cos(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(6) - obj.pPos.Q(3))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)), obj.pPos.Q(5)*cos(acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - obj.pPos.Q(6) - obj.pPos.Q(3))*((obj.pPos.Q(5)^2*(obj.pPos.Q(4)*sin(2*obj.pPos.Q(6)) + 2*obj.pPos.Q(5)*sin(obj.pPos.Q(6))))/(2*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)) - 1) - (obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))
             zeros(1,6)];
    

    
else
    Jinv = [ 1, 0,                                                                                                                                                                                                                        -(sin(obj.pPos.Q(3))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))/3,                                                                                                                                                                                                                                                                                       (cos(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                                                                                                                                                                                                                                                 (cos(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                                                                                                                                                                                         -(obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             0, 1,                                                                                                                                                                                                                         (cos(obj.pPos.Q(3))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))/3,                                                                                                                                                                                                                                                                                       (sin(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                                                                                                                                                                                                                                                 (sin(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                                                                                                                                                                                         -(obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             zeros(1,6);
             1, 0,                                                    (2*obj.pPos.Q(4)^2*sin(obj.pPos.Q(3)) - obj.pPos.Q(5)^2*sin(obj.pPos.Q(3)) + 3*obj.pPos.Q(4)*cos(obj.pPos.Q(3))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2) + obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(6))*sin(obj.pPos.Q(3)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)), (cos(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - cos(obj.pPos.Q(3) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))) + (obj.pPos.Q(4)*obj.pPos.Q(5)^2*sin(obj.pPos.Q(3) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),                                                                                     (cos(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - (obj.pPos.Q(4)^2*obj.pPos.Q(5)*sin(obj.pPos.Q(3) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),                    (obj.pPos.Q(4)*obj.pPos.Q(5)^2*sin(obj.pPos.Q(6))*sin(obj.pPos.Q(3) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)) - (obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             0, 1,                                                   -(2*obj.pPos.Q(4)^2*cos(obj.pPos.Q(3)) - obj.pPos.Q(5)^2*cos(obj.pPos.Q(3)) - 3*obj.pPos.Q(4)*sin(obj.pPos.Q(3))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2) + obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3))*cos(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)), (sin(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - sin(obj.pPos.Q(3) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))) - (obj.pPos.Q(4)*obj.pPos.Q(5)^2*cos(obj.pPos.Q(3) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),                                                                                     (sin(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) + (obj.pPos.Q(4)^2*obj.pPos.Q(5)*cos(obj.pPos.Q(3) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),                  - (obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - (obj.pPos.Q(4)*obj.pPos.Q(5)^2*cos(obj.pPos.Q(3) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*sin(obj.pPos.Q(6))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2));
             zeros(1,6);
             1, 0, (obj.pPos.Q(5)^2*sin(obj.pPos.Q(3)) - 2*obj.pPos.Q(4)^2*sin(obj.pPos.Q(3)) + 3*obj.pPos.Q(5)^2*sin(obj.pPos.Q(3) - 2*obj.pPos.Q(6)) + 4*obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3) - obj.pPos.Q(6)) - 2*obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3) + obj.pPos.Q(6)) + 6*obj.pPos.Q(5)*cos(obj.pPos.Q(3) - obj.pPos.Q(6))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2))/(6*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                         (cos(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) + (obj.pPos.Q(5)^3*sin(obj.pPos.Q(3) - obj.pPos.Q(6) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)), (cos(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - cos(obj.pPos.Q(3) - obj.pPos.Q(6) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))) - (obj.pPos.Q(4)*obj.pPos.Q(5)^2*sin(obj.pPos.Q(3) - obj.pPos.Q(6) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)),   obj.pPos.Q(5)*sin(obj.pPos.Q(3) - obj.pPos.Q(6) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*((obj.pPos.Q(5)^2*(obj.pPos.Q(4)*sin(2*obj.pPos.Q(6)) + 2*obj.pPos.Q(5)*sin(obj.pPos.Q(6))))/(2*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)) - 1) - (obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2));
             0, 1, (2*obj.pPos.Q(4)^2*cos(obj.pPos.Q(3)) - obj.pPos.Q(5)^2*cos(obj.pPos.Q(3)) - 3*obj.pPos.Q(5)^2*cos(obj.pPos.Q(3) - 2*obj.pPos.Q(6)) - 4*obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3) - obj.pPos.Q(6)) + 2*obj.pPos.Q(4)*obj.pPos.Q(5)*cos(obj.pPos.Q(3) + obj.pPos.Q(6)) + 6*obj.pPos.Q(5)*sin(obj.pPos.Q(3) - obj.pPos.Q(6))*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2))/(6*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)),                                                                         (sin(obj.pPos.Q(3))*(obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - (obj.pPos.Q(5)^3*cos(obj.pPos.Q(3) - obj.pPos.Q(6) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)), (sin(obj.pPos.Q(3))*(obj.pPos.Q(5) + obj.pPos.Q(4)*cos(obj.pPos.Q(6))))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)) - sin(obj.pPos.Q(3) - obj.pPos.Q(6) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))) + (obj.pPos.Q(4)*obj.pPos.Q(5)^2*cos(obj.pPos.Q(3) - obj.pPos.Q(6) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*(cos(obj.pPos.Q(6))^2 - 1))/((obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)), - obj.pPos.Q(5)*cos(obj.pPos.Q(3) - obj.pPos.Q(6) + acos((obj.pPos.Q(4) + obj.pPos.Q(5)*cos(obj.pPos.Q(6)))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2)))*((obj.pPos.Q(5)^2*(obj.pPos.Q(4)*sin(2*obj.pPos.Q(6)) + 2*obj.pPos.Q(5)*sin(obj.pPos.Q(6))))/(2*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(3/2)*(-(obj.pPos.Q(5)^2*(cos(obj.pPos.Q(6))^2 - 1))/(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2))^(1/2)) - 1) - (obj.pPos.Q(4)*obj.pPos.Q(5)*sin(obj.pPos.Q(3))*sin(obj.pPos.Q(6)))/(3*(obj.pPos.Q(4)^2 + 2*cos(obj.pPos.Q(6))*obj.pPos.Q(4)*obj.pPos.Q(5) + obj.pPos.Q(5)^2)^(1/2))
             zeros(1,6)];
end

% Formation velocity
obj.pPos.dQr = obj.pPos.dQd + obj.pPar.K1*tanh(obj.pPar.K2*obj.pPos.Qtil);

% Robots velocities 
obj.pPos.dXr = Jinv*obj.pPos.dQr;

% obj.pPos.Xr = obj.pPos.Xr + obj.pPos.dXr*(0.020);
obj.pPos.Xr = obj.pPos.Xr + obj.pPos.dXr*(T_INTEG);

end